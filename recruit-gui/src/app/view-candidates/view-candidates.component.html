<div class=".container m-2">
    <div>
            <div class="action-buttons">
                <button class="btn btn-secondary btnRight" (click)="resetFilters()" download>Reset</button>
                <a class="btn btn-secondary btnRight" href="{{getCandidateDownloadUrl()}}" download>Download</a>
            </div>

            <div class="pagination-options">
           	<!--  
              <div class="col-sm-10"></div>
              <div class="col-sm-1 pagination-col">
            -->
                <span [ngSwitch]="showNavPrev()">
                  <span *ngSwitchCase="true"  class="candidate-nav" (click)="previousPage()"><<<<<</span>
                  <span *ngSwitchCase="false" class="candidate-nav-disabled"><<<<<</span>
                </span>
               
                <span class="">{{currentPage+1}}</span>
               
                <span [ngSwitch]="showNavNext()">
                  <span *ngSwitchCase="true"class="candidate-nav" (click)="nextPage()">>>>>></span>
                  <span *ngSwitchCase="false"class="candidate-nav-disabled">>>>>></span>
                </span>
             <!--   </div> -->
            </div>
      </div>
	  <div class='candidate-table'>
            <div class="row">
                <div class="col-1 bg-tab-hdr medicol">CandidateId</div>
                <div class="col-1 bg-tab-hdr microcol">Country</div>
                <div class="col-1 bg-tab-hdr">City</div>
                <div class="col-1 bg-tab-hdr">Function</div>
                <div class="col-1 bg-tab-hdr microcol" style>Perm</div>
                <div class="col-1 bg-tab-hdr microcol">Freelance</div>
                <div class="col-1 bg-tab-hdr microcol">Years Exp</div>
                <div class="col-1 bg-tab-hdr medicol">Dutch</div>
                <div class="col-1 bg-tab-hdr medicol">English</div>
                <div class="col-1 bg-tab-hdr medicol">French</div>
                <div class="col-2 bg-tab-hdr">Skills</div>
            </div>
             <div class="row">
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'candidateId')">
                <span class="material-icons {{isFilterCandidateIdActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'country')">
                <span class="material-icons {{isFilterCountryActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr fltrcol" (click)="open(mymodal, 'city')">
                <span class="material-icons {{isFilterCityActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr fltrcol" (click)="open(mymodal, 'roleSought')">
                <span class="material-icons {{isFilterFunctionActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'perm')">
                  <span class="material-icons  {{isFilterPermActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'freelance')">
                  <span class="material-icons {{isFilterFreelanceActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'yearsExperience')">
                <span class="material-icons {{isFilterYearsExperienceActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'dutch')">
                  <span class="material-icons {{isFilterDutchActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'english')">
                  <span class="material-icons {{isFilterEnglishActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'french')">
                  <span class="material-icons {{isFilterFrenchActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-2 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'skills')">
                  <span class="material-icons {{isFilterSkillsActiveClass()}}">filter_alt</span>
                </div>
            </div>
            <div class="row" *ngFor="let candidate of candidates">
                <div class="col-1 medicol"><span class="candidate-id-prefix">C</span>{{candidate.candidateId}}</div>
                <div class="col-1 microcol">{{candidate.country}}</div>
                <div class="col-1">{{candidate.city}}</div>
                <!--<div class="col-1">{{pretifyFunction(candidate.function)}}</div>-->
                <div class="col-1">{{candidate.roleSought}}</div>
                <div class="col-1 microcol">{{candidate.perm}}</div>
                <div class="col-1 microcol">{{candidate.freelance}}</div>
                <div class="col-1 microcol">{{candidate.yearsExperience}}</div>
                <div class="col-1 medicol">{{candidate.getDutch()}}</div>
                <div class="col-1 medicol">{{candidate.getEnglish()}}</div>
                <div class="col-1 medicol">{{candidate.getFrench()}}</div>
                <div class="col-2">{{candidate.getSkills()}}</div>
            </div>	

    </div>


</div>


<ng-template #mymodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Filters</h4>
    <div class="filter-close-box" (click)="closeModal()">X</div>
  </div>
  <div class="modal-body">
      <div *ngIf="showSortOptons">


        <div class="row">
              <div class="col">
                <label class="modal-label">Order</label>
              </div>
              <div class="col">
                <span>
          <select (change)="updateSortOrder($event.target)">
            <option value=''></option>
            <option value='asc'  [selected]="selectedSortOrderForFilter == 'asc'">Asc</option>
            <option value='desc' [selected]="selectedSortOrderForFilter == 'desc'">Desc</option>
          </select>
        </span>
              </div>
        </div>


        
        
      </div>
      <div>
       
      <div [ngSwitch]="activeFilter" class="filterColmnSpecific">
          <div  *ngSwitchCase="'candidateId'">
          
          </div>
          <div  *ngSwitchCase="'country'">
            <form [formGroup]="countryFilterForm">
              <div class="row">
                <div class="col">
                  <label class="modal-label">Countries</label>
                </div>
                <div class="col">
                  <div>
                  <input class="filtercheckbox" type="checkbox" name="countries" value="NETHERLANDS" formControlName="NETHERLANDS" (change)="updateFilters()">
                <label>Netherlands</label>
              </div>
              <div>
                <input class="filtercheckbox" type="checkbox" name="countries" value="BELGIUM" formControlName="BELGIUM" (change)="updateFilters()">
                <label>Belgium</label>
              </div>
              <div>
                <input class="filtercheckbox" type="checkbox" name="countries" value="UK" formControlName="UK" (change)="updateFilters()">
                <label>UK</label>
              </div>
                </div>
              </div>
            
            </form>
          </div>
          <div *ngSwitchCase="'city'">
          </div>
          <div *ngSwitchCase="'roleSought'">
            
            <form [formGroup]="functionTypeFilterForm">
              <div class="row">
                <div class="col">
                  <label class="modal-label">Functions</label>
                </div>
              </div>
              
              <div class="row"> 
                <div class="col">
                  <div *ngFor="let funcType of functionOptionsPage1">
                    <input class="filtercheckbox" type="checkbox" name="funcTypes" value="{{funcType.id}}" formControlName="{{funcType.id}}" (change)="updateFilters()">
                    <label>{{funcType.desc}}</label>
                  </div>
                </div>
                <div class="col">
                  <div *ngFor="let funcType of functionOptionsPage2">
                    <input class="filtercheckbox" type="checkbox" name="funcTypes" value="{{funcType.id}}" formControlName="{{funcType.id}}" (change)="updateFilters()">
                    <label>{{funcType.desc}}</label>
                  </div>
                </div>
              </div>
            
            </form>
            
          </div>

          <div  *ngSwitchCase="'perm'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Include non Perm candidates</label>
              </div>
              <div class="col">
                <form [formGroup]="permFilterForm">
                  <div>
                    <input class="filtercheckbox" type="radio" value="false" formControlName="include" (change)="updateFilters()">
                    <label>Yes</label>
                  </div>
                  <div>
                    <input class="filtercheckbox" type="radio" value="true"   formControlName="include" (change)="updateFilters()">
                    <label>No</label>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
          <div  *ngSwitchCase="'freelance'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Include non freelance candidates</label>
              </div>
              <div class="col">
                <form [formGroup]="freelanceFilterForm">
                  <div>
                    <input class="filtercheckbox" type="radio" value="false" formControlName="include" (change)="updateFilters()">
                    <label>Yes</label>
                  </div>
                  <div>
                    <input class="filtercheckbox" type="radio" value="true"  formControlName="include" (change)="updateFilters()">
                    <label>No</label>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
           <div  *ngSwitchCase="'yearsExperience'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Years Experience</label>
              </div>
              <div class="col">
                <form [formGroup]="yearsExperienceFilterForm">
                  <div>
                  	<label>Greater than or equal to</label>
                    <select class="inpt-tab-std" formControlName="yearsExperienceGtEq" (change)="updateFilters()" size="4">
						<option value=""></option>
						<option *ngFor="let opt of yearsExperienceOptions" value="{{opt}}">{{opt}}</option>
					</select>
                  </div>
                  <div>
                  	<label>Less than or equal to</label>
                    <select class="inpt-tab-std" formControlName="yearsExperienceLtEq" (change)="updateFilters()" size="4">
						<option value=""></option>
						<option *ngFor="let opt of yearsExperienceOptions" value="{{opt}}">{{opt}}</option>
					</select>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
           <div  *ngSwitchCase="'dutch'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Dutch Language</label>
              </div>
              <div class="col">
                <form [formGroup]="dutchFilterForm">
                  <div>
                  	<label>Greater than or equal to</label>
                    <select class="inpt-tab-std" formControlName="level" (change)="updateFilters()">
						<option value=""></option>
						<option value="PROFICIENT">Proficient</option>
						<option value="BASIC">Basic</option>
						
					</select>
                  </div>
                 </form>
              </div>
            </div>
          </div>
          
           <div  *ngSwitchCase="'french'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Dutch Language</label>
              </div>
              <div class="col">
                <form [formGroup]="frenchFilterForm">
                  <div>
                  	<label>Greater than or equal to</label>
                    <select class="inpt-tab-std" formControlName="level" (change)="updateFilters()">
						<option value=""></option>
						<option value="PROFICIENT">Proficient</option>
						<option value="BASIC">Basic</option>
						
					</select>
                  </div>
                 </form>
              </div>
            </div>
          </div>
          
           <div  *ngSwitchCase="'english'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Dutch Language</label>
              </div>
              <div class="col">
                <form [formGroup]="englishFilterForm">
                  <div>
                  	<label>Greater than or equal to</label>
                    <select class="inpt-tab-std" formControlName="level" (change)="updateFilters()">
						<option value=""></option>
						<option value="PROFICIENT">Proficient</option>
						<option value="BASIC">Basic</option>
						
					</select>
                  </div>
                 </form>
              </div>
            </div>
          </div>
          
          <div  *ngSwitchCase="'skills'">
            <div class="row">
              <div class="col">
                  <div>Add Skill</div>
                  <div>
                  	<form [formGroup]="skillFilterForm">
	                  	<input type="text" formControlName="skill" class="inpt-tab-std input-small"/>
	                  	<button (click)="updateSkillFilters()">Add</button>
                  	</form>
                  </div>
                  <div class="selected-skills-filter">
                  	<span *ngFor="let skill of skillFilterSelections" class="selected-skill" (click)="removeSkill(skill)">
                  		{{skill}}
                  	</span>
                  </div>
              </div>
            </div>
          </div>
          

        </div>

      </div>
  </div>
 
</ng-template>




<div class=".container m-2">
    <div class='candidate-table'>
            <div class="row">
              <div class="col-sm-10"></div>
              <div class="col-sm-1">
                <button class="btn btn-secondary btnRight" (click)="resetFilters()" download>Reset</button>
              </div>
              <div class="col-sm-1">
                <a class="btn btn-secondary btnRight" href="{{getCandidateDownloadUrl()}}" download>Download</a>
              </div> 
            </div>



            <div class="row pagination-row">
              <div class="col-sm-10"></div>
              <div class="col-sm-1 pagination-col">
                <span [ngSwitch]="showNavPrev()">
                  <span *ngSwitchCase="true"  class="candidate-nav" (click)="previousPage()"><<<<<</span>
                  <span *ngSwitchCase="false" class="candidate-nav-disabled"><<<<<</span>
                </span>
               
                <span class="">{{currentPage}}</span>
               
                <span [ngSwitch]="showNavNext()">
                  <span *ngSwitchCase="true"class="candidate-nav" (click)="nextPage()">>>>>></span>
                  <span *ngSwitchCase="false"class="candidate-nav-disabled">>>>>></span>
                </span>
              </div>
            </div>

            <div class="row">
                <div class="col-1 bg-tab-hdr medicol">CandidateId</div>
                <div class="col-1 bg-tab-hdr microcol">Country</div>
                <div class="col-1 bg-tab-hdr">City</div>
                <div class="col-1 bg-tab-hdr">Function</div>
                <div class="col-1 bg-tab-hdr microcol" style>Perm</div>
                <div class="col-1 bg-tab-hdr microcol">Freelance</div>
                <div class="col-1 bg-tab-hdr microcol">Years Exp</div>
                <div class="col-1 bg-tab-hdr medicol">Dutch</div>
                <div class="col-1 bg-tab-hdr medicol">English</div>
                <div class="col-1 bg-tab-hdr medicol">French</div>
                <div class="col-2 bg-tab-hdr">Skills</div>
            </div>
             <div class="row">
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'candidateId')">
                <span class="material-icons {{isFilterCandidateIdActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'country')">
                <span class="material-icons {{isFilterCountryActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr fltrcol" (click)="open(mymodal, 'city')">
                <span class="material-icons {{isFilterCityActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr fltrcol" (click)="open(mymodal, 'function')">
                <span class="material-icons {{isFilterFunctionActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'perm')">
                  <span class="material-icons  {{isFilterPermActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'freelance')">
                  <span class="material-icons {{isFilterFreelanceActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr microcol fltrcol" (click)="open(mymodal, 'yearsExperience')">
                <span class="material-icons {{isFilterYearsExperienceActiveClass()}}">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'dutch')">
                  <span class="material-icons">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'english')">
                  <span class="material-icons">filter_alt</span>
                </div>
                <div class="col-1 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'french')">
                  <span class="material-icons">filter_alt</span>
                </div>
                <div class="col-2 bg-tab-hdr medicol fltrcol" (click)="open(mymodal, 'skills')">
                  <span class="material-icons">filter_alt</span>
                </div>
            </div>
            <div class="row" *ngFor="let candidate of candidates">
                <div class="col-1 medicol"><span class="candidate-id-prefix">C</span>{{candidate.candidateId}}</div>
                <div class="col-1 microcol">{{candidate.country}}</div>
                <div class="col-1">{{candidate.city}}</div>
                <!--<div class="col-1">{{pretifyFunction(candidate.function)}}</div>-->
                <div class="col-1">{{candidate.roleSought}}</div>
                <div class="col-1 microcol">{{candidate.perm}}</div>
                <div class="col-1 microcol">{{candidate.freelance}}</div>
                <div class="col-1 microcol">{{candidate.yearsExperience}}</div>
                <div class="col-1 medicol">{{candidate.getDutch()}}</div>
                <div class="col-1 medicol">{{candidate.getEnglish()}}</div>
                <div class="col-1 medicol">{{candidate.getFrench()}}</div>
                <div class="col-2">{{candidate.getSkills()}}</div>
            </div>	

    </div>


</div>


<ng-template #mymodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Filters</h4>
  </div>
  <div class="modal-body">
      <div *ngIf="showSortOptons">


        <div class="row">
              <div class="col">
                <label class="modal-label">Order</label>
              </div>
              <div class="col">
                <span>
          <select (change)="updateSortOrder($event.target)">
            <option value=''></option>
            <option value='asc'  [selected]="selectedSortOrderForFilter == 'asc'">Asc</option>
            <option value='desc' [selected]="selectedSortOrderForFilter == 'desc'">Desc</option>
          </select>
        </span>
              </div>
        </div>


        
        
      </div>
      <div>
       
      <div [ngSwitch]="activeFilter" class="filterColmnSpecific">
          <div  *ngSwitchCase="'candidateId'">
          
          </div>
          <div  *ngSwitchCase="'country'">
            <form [formGroup]="countryFilterForm">
              <div class="row">
                <div class="col">
                  <label class="modal-label">Countries</label>
                </div>
                <div class="col">
                  <div>
                  <input class="filtercheckbox" type="checkbox" name="countries" value="NETHERLANDS" formControlName="NETHERLANDS" (change)="updateFilters()">
                <label>Netherlands</label>
              </div>
              <div>
                <input class="filtercheckbox" type="checkbox" name="countries" value="BELGIUM" formControlName="BELGIUM" (change)="updateFilters()">
                <label>Belgium</label>
              </div>
              <div>
                <input class="filtercheckbox" type="checkbox" name="countries" value="UK" formControlName="UK" (change)="updateFilters()">
                <label>UK</label>
              </div>
                </div>
              </div>
            
            </form>
          </div>
          <div *ngSwitchCase="'city'">
          </div>
          <div *ngSwitchCase="'function'">
            
            <form [formGroup]="functionTypeFilterForm">
              <div class="row">
                <div class="col">
                  <label class="modal-label">Functions</label>
                </div>
              </div>
              
              <div class="row"> 
                <div class="col">
                  <div *ngFor="let funcType of candidateService.loadFunctionTypes()">
                    <input class="filtercheckbox" type="checkbox" name="funcTypes" value="{{funcType.id}}" formControlName="{{funcType.id}}" (change)="updateFilters()">
                    <label>{{funcType.desc}}</label>
                  </div>
                </div>
              </div>
            
            </form>
            
          </div>

          <div  *ngSwitchCase="'perm'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Include non Perm candidates</label>
              </div>
              <div class="col">
                <form [formGroup]="permFilterForm">
                  <div>
                    <input class="filtercheckbox" type="radio" value="false" formControlName="include" (change)="updateFilters()">
                    <label>Yes</label>
                  </div>
                  <div>
                    <input class="filtercheckbox" type="radio" value="true"   formControlName="include" (change)="updateFilters()">
                    <label>No</label>
                  </div>
                </form>
              </div>
            </div>
          </div>
          
          <div  *ngSwitchCase="'freelance'">
            <div class="row">
              <div class="col">
                <label class="modal-label">Include non freelance candidates</label>
              </div>
              <div class="col">
                <form [formGroup]="freelanceFilterForm">
                  <div>
                    <input class="filtercheckbox" type="radio" value="false" formControlName="include" (change)="updateFilters()">
                    <label>Yes</label>
                  </div>
                  <div>
                    <input class="filtercheckbox" type="radio" value="true"  formControlName="include" (change)="updateFilters()">
                    <label>No</label>
                  </div>
                </form>
              </div>
            </div>
          </div>
          

        </div>

      </div>
  </div>
  <div class="modal-footer">
  </div>
</ng-template>




<div class="page">

	<!-- Nav options -->
	<div class="nav-tabs-bar">
		<ul class="nav nav-tabs">
		  <li class="nav-item">
		    <span class="nav-link tabNav" (click)="switchTab('recruiters')">{{'arenella-accounts-menu-recruiters' | translate}}</span>
		  </li>
		
		  <li class="nav-item tabNav">
		    <span class="nav-link" (click)="switchTab('availabilityChecks')">{{'arenella-accounts-menu-availability' | translate}}</span>
		  </li>
		<li class="nav-item tabNav">
		    <span class="nav-link" (click)="switchTab('skillValidation')">{{'arenella-accounts-menu-skills' | translate}}</span>
		  </li>
		   <li class="nav-item tabNav">
		    <span class="nav-link" (click)="switchTab('subscriptionActions')">{{'arenella-accounts-menu-subscription' | translate}}</span>
		  </li>
		  <li class="nav-item tabNav hideForMob">
		    <span class="nav-link" (click)="switchTab('cities')">{{'arenella-accounts-menu-cities' | translate}}</span>
		  </li>
		</ul>
	</div>
	
	<div class="page-body">	
	
		<!-- Recruiters-->
		<div *ngIf="showRecruitersTab" class="accounts-tab-top">
			<app-recruiters>dd</app-recruiters>
		</div>
		
		<!--  -->
		<div *ngIf="showAvailabilityCheckTab" class="accounts-tab-top">
		
			<div>
				<table style="width:300px;">
					<tbody>
						<tr>
							<td class="recruiter-active-subscription">{{'arenella-accounts-tabavailability-available' | translate}}</td>
							<td class="recruiter-active-subscription" style="padding-right:10px">{{availableCount}}</td>
							<td><button class="btn btn-secondary acc-rec-tog-btn"  (click)="toggleShowAvailable()">{{'arenella-accounts-tabrecruiters-toggle' | translate}}</button></td>
						</tr>
						<tr>
							<td class="recruiter-credit-based-subscription">{{'arenella-accounts-tabavailability-unavailable' | translate}}</td>
							<td class="recruiter-credit-based-subscription" style="padding-right:30px">{{unavailableCount}}</td>
							<td><button class="btn btn-secondary acc-rec-tog-btn" (click)="toggleShowUnavailable()">{{'arenella-accounts-tabrecruiters-toggle' | translate}}</button></td>
						</tr>
					</tbody>
				</table>
			</div>
			<table class="table candidate-table availability">
				<thead>
		      		<tr>
		      			<th class="bg-tab-hdr">{{'arenella-accounts-tabavailability-id' | translate}}</th>
		      			<th class="bg-tab-hdr">{{'arenella-accounts-tabavailability-name' | translate}}</th>
		      			<th class="bg-tab-hdr">{{'arenella-accounts-tabavailability-pos' | translate}}</th>
		      			<th class="bg-tab-hdr">{{'arenella-accounts-tabavailability-role' | translate}}</th>
		                <th class="bg-tab-hdr">{{'arenella-accounts-tabavailability-actions' | translate}}</th>
		             </tr>
		      	</thead>
		      	<tbody>
		      		<tr *ngFor="let candidate of candidatesToCheckForAvailability">
		      			<td class="medicol available" *ngIf="candidate.available === true">
		      				<a class="currliculum-link available" href="{{getCurriculumDownloadUrl(candidate.candidateId)}}">
								<span>{{candidate.candidateId}}</span>
							</a>
		      			</td>
		      			<td class="medicol unavailable" *ngIf="candidate.available === false">
		      				<a class="currliculum-link unavailable" href="{{getCurriculumDownloadUrl(candidate.candidateId)}}">
								<span>{{candidate.candidateId}}</span>
							</a>
		      			</td>
		      			<td class="medicol">
		      				{{candidate.firstname}} {{candidate.surname}}
		      			</td>
		      			<td class="medicol">
		      				<span class=" flag-icon {{getFlagClassFromCountry(candidate.country)}} suggestion-flag-country"></span>
							
							{{candidate.city}}
		      			</td>
		      			<td class="medicol">
		      				{{candidate.roleSought}}
		      			</td>
		      			<td class="medicol">
		      				<button	class="btn btn-secondary arenella-btn" style="min-width:90px;" (click)="updateCandidateAvailability(candidate.candidateId, 'enable')">{{'arenella-accounts-tabavailability-btn-available' | translate}}</button>
		      				<button	class="btn btn-secondary arenella-btn" style="min-width:90px;" (click)="updateCandidateAvailability(candidate.candidateId, 'disable')">{{'arenella-accounts-tabavailability-btn-disable' | translate}}</button>
		      			</td>
		      		</tr>
		      	</tbody>
			</table>
		</div>
		
		<!-- Cities-->
		<div *ngIf="showCitiesTab" class="accounts-tab-top">
			<app-cities></app-cities>
		</div>
		
		<!-- Skills table -->
		<div *ngIf="showSkillsValidationTab"  class="accounts-tab-top">
		
			<div class="action-buttons">
				<button	class="btn btn-secondary arenella-btn" (click)="persistValidatedSkills()">{{'arenella-accounts-tabskills-btn-udpate' | translate}}</button>
			</div>
			<table class="table candidate-table availability">
				
				<thead>
	      			<tr>
	      				<th class="bg-tab-hdr">{{'arenella-accounts-tabskills-skill' | translate}}</th>
	      				<th class="bg-tab-hdr">{{'arenella-accounts-tabskills-actions' | translate}}</th>
	      		     </tr>
	      		</thead>
	      		<tbody>
	      			<tr style="padding-bottom:20px; border-bottom:2px black solid;border-top:2px black solid;">
		      			<td><b>{{'arenella-accounts-tabskills-btn-pending' | translate}}:</b> {{skillsToValidate.length}}</td>
		      		</tr>
		      		<tr *ngFor="let skill of skillsToValidate">
		      			<td *ngIf="skill.validationStatus == 'PENDING'">{{skill.skill}}</td>
		      			<td *ngIf="skill.validationStatus == 'ACCEPTED'" class="skillAccepted">{{skill.skill}}</td>
		      			<td *ngIf="skill.validationStatus == 'REJECTED'" class="skillRejected">{{skill.skill}}</td>
		      			<td>
		      				<button	class="btn btn-secondary arenella-btn" style="min-width:100px;" (click)="updateSkillValidationStatus(skill.skill, 'ACCEPTED')">{{'arenella-accounts-tabskills-btn-accept' | translate}}</button>
		      				<button	class="btn btn-secondary arenella-btn" style="min-width:100px;" (click)="updateSkillValidationStatus(skill.skill, 'REJECTED')">{{'arenella-accounts-tabskills-btn-reject' | translate}}</button>
		      			</td>
		      		</tr>
		      	</tbody>
			</table>
		</div>
		 
		<!-- Subscriptions requiring actions -->
		<div *ngIf="showSubscriptionActionsTab"  class="accounts-tab-top">
			<app-subscriptions></app-subscriptions>
		<div>
		
	</div>
		
</div>
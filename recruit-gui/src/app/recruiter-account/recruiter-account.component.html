<div class=".container m-2" >
	
	<!-- Nav options -->
	<ul class="nav nav-tabs">
	  <li class="nav-item" *ngIf="!isRecruiterNoSubscription() && !hasUnpaidSubscription()">
	    <span class="nav-link tabNav" (click)="switchTab('showAccountDetails')">Account Details</span>
	  </li>
	  <li class="nav-item">
	    <span class="nav-link tabNav" (click)="switchTab('showSubscriptions')">Subscriptions</span>
	  </li>
	</ul>
	
	<!-- Account details -->
	<div class="container-div" *ngIf="showAccountDetails">

		<div class="action-buttons">
			<button class="btn btn-secondary btnRight" (click)="switchToEditMode()" *ngIf="!isInEditMode">Edit Details</button>
			<button class="btn btn-secondary btnRight" (click)="cancelEditMode()"	*ngIf="isInEditMode">Cancel</button>
		</div>
		
		<div id="account-details-input">
			<form [formGroup]="accoundDetailsForm">
				<table class="table center">
					<tr>
						<td class="table-left-hdr" ><label>UserId</label></td>
						<td class="table-cell">{{recruiter.userId}}</td>
					</tr>
					<tr>
						<td class="table-left-hdr">First Name</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.firstName}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="firstName"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Surname</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.surname}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="surname"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Email Address</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.email}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="email"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Preferred Language</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.language}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
						 	<select  formControlName="language">
								<option value="ENGLISH" >English</option>
								<option value="DUTCH"	>Dutch</option>
								<option value="FRENCH"	>French</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Name</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyName}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyName"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Address</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyAddress}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<textarea formControlName="companyAddress"></textarea> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Country</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyCountry}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyCountry"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company VAT Number</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyVatNumber}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyVatNumber"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Registration Number</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyRegistrationNumber}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyRegistrationNumber"/> 
						</td>
					</tr>
				</table>
				
				<div class="action-buttons">
					<button class="btn btn-secondary btnRight" (click)="persistAccountDetails()" *ngIf="isInEditMode">Save Changes</button>
				</div>
			
			</form>
		</div>
	</div>
	
	<!-- Subscriptions -->
	<div class="container-div container-div-high" *ngIf="showSubscriptions">
		<h2 *ngIf="hasActiveSubscription()">Your subscriptions</h2>
		
		<div *ngIf="!hasActiveSubscription()" class="no-sub-warn">
		
			<h1>Your 90 day free trial has come to an end</h1>
			<p>
			We hope that you found the site useful and would like to continue with us in the future. For continued access a subscription costs 
			just 120 euro's per year excluding tax. 
			</p>
			<p>
			There are no other fees involved. You will have full access to all the features on the site and will be able to place as many candidates 
			as you you like for no additional fees.
			</p>
			
			<h2>Annual Subscription 120 euro's</h2>
			
			<div class="company-details">
				<form [formGroup]="accoundDetailsForm">
					<table>
						<tr>
							<td class="label">Company Name</td>
							<td><input type="text" formControlName="companyName"></td>
						</tr>
						<tr>
							<td class="label">Company Address</td>
							<td><textarea formControlName="companyAddress"></textarea></td>
						</tr>
						<tr>
							<td class="label">Company Country</td>
							<td><input type="text" formControlName="companyCountry"></td>
						</tr>
						<tr>
							<td class="label">Company Tax Number</td>
							<td><input type="text" formControlName="companyVatNumber"></td>
						</tr>
						<tr>
							<td class="label">Company Registration Number</td>
							<td><input type="text" formControlName="companyRegistrationNumber"></td>
						</tr>
						<tr>
							<td class="label"></td>
							<td>
								<button class="btn btn-secondary btnRight btnSubscribe" (click)="confirmSwitchToYearlySubscription()">Confirm Subscription</button>
							</td>
						</tr>
					</table>
				</form>
			</div>
		
		</div>
		
		<div *ngIf="hasUnpaidSubscription()" class="no-sub-warn">
			<h2><b>Warning:</b> There is an outstanding invoice. Access to the system is temporarily suspended until the invoice has been paid. </h2>
		</div>
		
		<div  *ngIf="hasActiveSubscription()">
			<table class="table">
				<thead>
					<tr>
						<th class="bg-tab-hdr">Subscription Id</th>
						<th class="bg-tab-hdr">Type</th>
						<th class="bg-tab-hdr">Created</th>
						<th class="bg-tab-hdr">Activated / Activates</th>
						<th class="bg-tab-hdr">Status</th>
						<th class="bg-tab-hdr"></th>
					</tr>
				</thead>
				<tr *ngFor="let subscription of getOrderedRecruiterSubscriptions()">
					<td class="subscription-tab-col">{{subscription.subscriptionId}}</td>
					<td class="subscription-tab-col">{{subscription.type}}</td>
					<td class="subscription-tab-col">{{subscription.created | date:'yyyy-MM-dd'}}</td>
					<td class="subscription-tab-col">{{subscription.activatedDate | date:'yyyy-MM-dd'}}</td>
					<td class="subscription-tab-col">{{subscription.status}}</td>
						
					<td class="subscription-tab-col subscription-table-btn" *ngIf="subscription.type === 'YEAR_SUBSCRIPTION' && subscription.status != 'SUBSCRIPTION_ENDED'">
							<button class="btn btn-secondary  alter-subscription-btn" 			*ngIf="!hasUnpaidSubscription() && !showCancelSubscriptionConfirmButtons" (click)="cancelSubscription()">Cancel Subscription</button>
							<button class="btn btn-secondary  alter-subscription-btn-confirm" 	*ngIf="!hasUnpaidSubscription() && showCancelSubscriptionConfirmButtons"  (click)="confirmCancelSubscription(subscription)">Confirm</button>
							<button class="btn btn-secondary  alter-subscription-btn-cancel" 	*ngIf="!hasUnpaidSubscription() && showCancelSubscriptionConfirmButtons"  (click)="cancelCancelSubscription()">Cancel</button>
					</td>
					
					<td class="subscription-tab-col subscription-table-btn" *ngIf="subscription.type != 'YEAR_SUBSCRIPTION' || (subscription.type === 'YEAR_SUBSCRIPTION' && subscription.status === 'SUBSCRIPTION_ENDED')">
						<span style="width:200px">&nbsp;</span>
					</td>
					
				</tr>
			</table>
		</div>
		
</div>

<div *ngIf="hasActiveSubscription()" class="rec-account-footer"></div>
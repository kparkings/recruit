<div class=".container m-2" >
	
	<!-- Nav options -->
	<ul class="nav nav-tabs">
	  <li class="nav-item" *ngIf="!isRecruiterNoSubscription() && !hasUnpaidSubscription()">
	    <span class="nav-link tabNav" (click)="switchTab('showAccountDetails')">Account Details</span>
	  </li>
	  <li class="nav-item">
	    <span class="nav-link tabNav" (click)="switchTab('showSubscriptions')">Subscriptions</span>
	  </li>
	</ul>
	
	<!-- Account details -->
	<div class="container-div" *ngIf="showAccountDetails">

		<div class="action-buttons">
			<button class="btn btn-secondary btnRight" (click)="switchToEditMode()" *ngIf="!isInEditMode">Edit Details</button>
			<button class="btn btn-secondary btnRight" (click)="cancelEditMode()"	*ngIf="isInEditMode">Cancel</button>
		</div>
		
		<div id="account-details-input">
			<form [formGroup]="accoundDetailsForm">
				<table class="table center">
					<tr>
						<td class="table-left-hdr" ><label>UserId</label></td>
						<td class="table-cell">{{recruiter.userId}}</td>
					</tr>
					<tr>
						<td class="table-left-hdr">First Name</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.firstName}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="firstName"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Surname</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.surname}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="surname"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Email Address</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.email}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="email"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Preferred Language</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.language}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
						 	<select  formControlName="language">
								<option value="ENGLISH" >English</option>
								<option value="DUTCH"	>Dutch</option>
								<option value="FRENCH"	>French</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Name</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyName}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyName"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Address</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyAddress}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<textarea formControlName="companyAddress"></textarea> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Country</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyCountry}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyCountry"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company VAT Number</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyVatNumber}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyVatNumber"/> 
						</td>
					</tr>
					<tr>
						<td class="table-left-hdr">Company Registration Number</td>
						<td class="table-cell" *ngIf="!isInEditMode"><label>{{recruiter.companyRegistrationNumber}}</label></td>
						<td class="table-cell" *ngIf="isInEditMode">
							<input type="text" formControlName="companyRegistrationNumber"/> 
						</td>
					</tr>
				</table>
				
				<div class="action-buttons">
					<button class="btn btn-secondary btnRight" (click)="persistAccountDetails()" *ngIf="isInEditMode">Save Changes</button>
				</div>
			
			</form>
		</div>
	</div>
	
	<!-- Subscriptions -->
	<div class="container-div container-div-high" *ngIf="showSubscriptions">
		
		<div *ngIf="isBuyingSubscription && !showBillingDetails" class="no-sub-warn">
		
			<h1>Subscription options</h1>
			
			<div>
				<div class="subs-opt-box {{subscriptionSelectionMobCss}}" (click)="doShowBillingDetails('CREDIT_BASED_SUBSCRIPTION')" *ngIf="!isCreditBasedSubscription">
					<h3>Free Credit Based</h3>
					<p>0 Euro</p>
				</div>
				<div class="subs-opt-box {{subscriptionSelectionMobCss}}" style="background:grey;cursor:unset;border:none" *ngIf="isCreditBasedSubscription">
					<h3>Free Credit Based</h3>
					<p>0 Euro</p>
				</div>
				<div class="subs-opt-box {{subscriptionSelectionMobCss}}" (click)="doShowBillingDetails('ONE_MONTH_SUBSCRIPTION')">
					<h3>1 Month</h3>
					<p>10 Euros ex Tax</p>
				</div>
				<div class="subs-opt-box {{subscriptionSelectionMobCss}}" (click)="doShowBillingDetails('THREE_MONTHS_SUBSCRIPTION')">
					<h3>3 Months</h3>
					<p>30 Euros ex Tax</p>
				</div>
				<div class="subs-opt-box {{subscriptionSelectionMobCss}}" (click)="doShowBillingDetails('SIX_MONTHS_SUBSCRIPTION')">
					<h3>6 Months</h3>
					<p>60 Euros ex Tax</p>
				</div>
				<div class="subs-opt-box {{subscriptionSelectionMobCss}}" (click)="doShowBillingDetails('YEAR_SUBSCRIPTION')">
					<h3>1 Year</h3>
					<p>120 Euros ex Tax</p>
				</div>
			</div>
			<div class="spacer"></div>
		</div>
		
		<div class="no-sub-warn" *ngIf="showBillingDetails">
		
				<h1>Payment Details</h1>
				
				<div class="account-details {{accountDetailsMobCss}}">
					<form [formGroup]="accoundDetailsForm">
						<table class="center">
							<tr>
								<td class="label">Company Name</td>
							</tr>
							<tr>
								<td><input type="text" formControlName="companyName"></td>
							</tr>
					
					
							<tr>
								<td class="label">Company Address</td>
							</tr>
							<tr>
								<td><textarea formControlName="companyAddress"></textarea></td>
							</tr>
					
					
							<tr>
								<td class="label">Company Country</td>
							</tr>
							<tr>
								<td><input type="text" formControlName="companyCountry"></td>
							</tr>
					
					
							<tr>
								<td class="label">Company Tax Number</td>
							</tr>
							<tr>
								<td><input type="text" formControlName="companyVatNumber"></td>
							</tr>
					
					
							<tr>
								<td class="label">Company Registration Number</td>
							</tr>
							<tr>
								<td><input type="text" formControlName="companyRegistrationNumber"></td>
							</tr>
					
					
							<tr>
								<td>
									<button class="btn btn-secondary btnRight btnSubscribe" (click)="confirmSwitchToOtherSubscription()">Confirm Subscription</button>
								</td>
							</tr>
						</table>
					</form>
				</div>
			</div>
			
		<div *ngIf="!hasActiveSubscription() && !isBuyingSubscription" class="no-sub-warn">
		
			<h1>Trial Ended</h1>
			
			<p>
			Your trial subscription has ended. We hope that you have found the site useful. To continue to use the site please select 
			one of the following options
			</p>
			
			<div class="center">
				<div class="sub-opt-div {{mobCss}}">
					<h3>Free - Credit Based</h3>
					<p>
					This option provides free access based on a weekly allocation of credits. Once the credits are 
					exhausted you will no longer have access to specific features until you are assigned more credits the
					following week.
					</p>
					<div>
						<ul>
							<li>8 Credits for Curriculums</li>
							<li>2 Credits for the Job board</li>
							<li>2 Credits for the Marketplace</li>
							<li>New credits added every Monday</li>
							<li>Unused credits will be lost.</li>
						</ul>
						<button class="btn btn-secondary" (click)="selectCreditBasedSubscription()">Select</button>
					</div>
				</div>
				<div class="sub-opt-div {{mobCss}}">
					<h3>Paid Subscription</h3>
					<p>
					This option provides unlimited access to the site for the duration of the Subscription. Once the subscription has 
					expired you can opt to take out a further subscription. Select this option to see available subscription options.
					</p>
					<div>
					<ul>
						<li>Unlimited Curriculums downloads</li>
						<li>Unlimited Job Board postings</li>
						<li>Unlimited Marketplace requests</li>
					</ul>
					<button class="btn btn-secondary" (click)="showSubscriptionOptions()">Select</button>
					</div>
				</div>
				<div class="spacer"></div>
			</div>
		</div>
		
		<div *ngIf="hasUnpaidSubscription()" class="no-sub-warn">
			<h2><b>Warning:</b> There is an outstanding invoice. Access to the system is temporarily suspended until the invoice has been paid. </h2>
		</div>
		
		<div  *ngIf="hasActiveSubscription() && !isBuyingSubscription">
			
			<h2>Your subscriptions</h2>
			
			<table class="table">
				<thead>
					<tr>
						<th class="bg-tab-hdr">Subscription Id</th>
						<th class="bg-tab-hdr">Type</th>
						<th class="bg-tab-hdr">Created</th>
						<th class="bg-tab-hdr">Activated / Activates</th>
						<th class="bg-tab-hdr">Status</th>
					</tr>
				</thead>
				<tr *ngFor="let subscription of getOrderedRecruiterSubscriptions()">
					<td class="subscription-tab-col">{{subscription.subscriptionId}}</td>
					<td class="subscription-tab-col">{{subscription.type}}</td>
					<td class="subscription-tab-col">{{subscription.created | date:'yyyy-MM-dd'}}</td>
					<td class="subscription-tab-col">{{subscription.activatedDate | date:'yyyy-MM-dd'}}</td>
					<td class="subscription-tab-col">{{subscription.status}}</td>
				</tr>
			</table>
			
		</div>
		
</div>

<div *ngIf="hasActiveSubscription()" class="rec-account-footer"></div>